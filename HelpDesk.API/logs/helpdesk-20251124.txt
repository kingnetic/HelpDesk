2025-11-24 08:36:48.768 -06:00 [INF] Application is shutting down...
2025-11-24 15:32:24.443 -06:00 [INF] Starting HelpDesk API
2025-11-24 15:32:25.361 -06:00 [INF] User profile is available. Using 'C:\Users\marvin.gonzalez\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-24 15:32:26.731 -06:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 15:32:26.753 -06:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-24 15:32:26.792 -06:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-24 15:32:26.885 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-24 15:32:26.906 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 15:32:26.911 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-24 15:32:26.921 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-24 15:32:26.937 -06:00 [INF] No migrations were applied. The database is already up to date.
2025-11-24 15:32:26.945 -06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-24 15:32:27.419 -06:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-11-24 15:32:27.465 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-11-24 15:32:27.471 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-11-24 15:32:27.485 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[Name] = N'Admin'
2025-11-24 15:32:27.499 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[Name] = N'Support'
2025-11-24 15:32:27.530 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:32:27.537 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:32:27.543 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:32:27.549 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:32:27.554 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:32:27.559 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:32:27.564 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:32:27.574 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals2_supportRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals2_supportRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:32:27.580 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals2_supportRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals2_supportRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:32:27.585 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals2_supportRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals2_supportRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:32:27.589 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals2_supportRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals2_supportRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:32:27.624 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-24 15:32:27.670 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-11-24 15:32:27.714 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [security].[UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-11-24 15:32:27.738 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [helpdesk].[CatalogItems] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:32:27.749 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [catalog].[Catalogs] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:32:27.756 -06:00 [INF] HelpDesk API started successfully
2025-11-24 15:32:27.910 -06:00 [INF] Now listening on: http://localhost:5022
2025-11-24 15:32:27.915 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-24 15:32:27.917 -06:00 [INF] Hosting environment: Development
2025-11-24 15:32:27.918 -06:00 [INF] Content root path: D:\REPOSITORY\HelpDesk\HelpDesk.API
2025-11-24 15:32:43.119 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/swagger/v1/swagger.json - null null
2025-11-24 15:32:43.402 -06:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 236.4115 ms
2025-11-24 15:32:43.418 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 302.1796ms
2025-11-24 15:33:38.945 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5022/api/auth/login - application/json 63
2025-11-24 15:33:38.957 -06:00 [INF] CORS policy execution successful.
2025-11-24 15:33:38.965 -06:00 [WRN] Failed to determine the https port for redirect.
2025-11-24 15:33:39.007 -06:00 [INF] Executing endpoint 'HelpDesk.Api.Controllers.AuthController.Login (HelpDesk.API)'
2025-11-24 15:33:39.029 -06:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller HelpDesk.Api.Controllers.AuthController (HelpDesk.API).
2025-11-24 15:33:39.115 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-24 15:33:39.276 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [security].[UserRoles] AS [u]
INNER JOIN [security].[Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-11-24 15:33:39.488 -06:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime2), @p4='?' (Size = 200), @p5='?' (Size = 1000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200), @p8='?' (Size = 500), @p9='?' (Size = 1000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [security].[UserSessions] ([CreatedAt], [IsActiveSession], [JwtId], [LoginAt], [LoginIpAddress], [LoginUserAgent], [LogoutAt], [LogoutIpAddress], [LogoutReason], [LogoutUserAgent], [RefreshToken], [RefreshTokenExpiresAt], [TokenExpiresAt], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-11-24 15:33:39.521 -06:00 [INF] Executing OkObjectResult, writing value of type 'HelpDesk.Application.DTOs.AuthResult'.
2025-11-24 15:33:39.535 -06:00 [INF] Executed action HelpDesk.Api.Controllers.AuthController.Login (HelpDesk.API) in 498.0758ms
2025-11-24 15:33:39.538 -06:00 [INF] Executed endpoint 'HelpDesk.Api.Controllers.AuthController.Login (HelpDesk.API)'
2025-11-24 15:33:39.542 -06:00 [INF] HTTP POST /api/auth/login responded 200 in 587.7326 ms
2025-11-24 15:33:39.549 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5022/api/auth/login - 200 null application/json; charset=utf-8 603.1841ms
2025-11-24 15:34:10.205 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/api/auth/user-info - null null
2025-11-24 15:34:10.327 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__jti_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActiveSession], [u].[JwtId], [u].[LoginAt], [u].[LoginIpAddress], [u].[LoginUserAgent], [u].[LogoutAt], [u].[LogoutIpAddress], [u].[LogoutReason], [u].[LogoutUserAgent], [u].[RefreshToken], [u].[RefreshTokenExpiresAt], [u].[TokenExpiresAt], [u].[UpdatedAt], [u].[UserId]
FROM [security].[UserSessions] AS [u]
WHERE [u].[JwtId] = @__jti_0
2025-11-24 15:34:10.338 -06:00 [INF] Executing endpoint 'HelpDesk.Api.Controllers.AuthController.GetCurrentUser (HelpDesk.API)'
2025-11-24 15:34:10.346 -06:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller HelpDesk.Api.Controllers.AuthController (HelpDesk.API).
2025-11-24 15:34:10.357 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-24 15:34:10.368 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [security].[UserRoles] AS [u]
INNER JOIN [security].[Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-11-24 15:34:10.377 -06:00 [INF] Executing OkObjectResult, writing value of type 'HelpDesk.Application.DTOs.UserDto'.
2025-11-24 15:34:10.394 -06:00 [INF] Executed action HelpDesk.Api.Controllers.AuthController.GetCurrentUser (HelpDesk.API) in 43.3141ms
2025-11-24 15:34:10.398 -06:00 [INF] Executed endpoint 'HelpDesk.Api.Controllers.AuthController.GetCurrentUser (HelpDesk.API)'
2025-11-24 15:34:10.401 -06:00 [INF] HTTP GET /api/auth/user-info responded 200 in 187.1850 ms
2025-11-24 15:34:10.407 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/api/auth/user-info - 200 null application/json; charset=utf-8 202.0155ms
2025-11-24 15:34:33.721 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/api/Catalogs - null null
2025-11-24 15:34:33.735 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__jti_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActiveSession], [u].[JwtId], [u].[LoginAt], [u].[LoginIpAddress], [u].[LoginUserAgent], [u].[LogoutAt], [u].[LogoutIpAddress], [u].[LogoutReason], [u].[LogoutUserAgent], [u].[RefreshToken], [u].[RefreshTokenExpiresAt], [u].[TokenExpiresAt], [u].[UpdatedAt], [u].[UserId]
FROM [security].[UserSessions] AS [u]
WHERE [u].[JwtId] = @__jti_0
2025-11-24 15:34:33.742 -06:00 [INF] Executing endpoint 'HelpDesk.Api.Controllers.CatalogsController.GetCatalogs (HelpDesk.API)'
2025-11-24 15:34:33.748 -06:00 [INF] Route matched with {action = "GetCatalogs", controller = "Catalogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCatalogs() on controller HelpDesk.Api.Controllers.CatalogsController (HelpDesk.API).
2025-11-24 15:34:33.755 -06:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 15:34:33.772 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Type]
FROM [helpdesk].[CatalogItems] AS [c]
2025-11-24 15:34:33.778 -06:00 [INF] Executing OkObjectResult, writing value of type 'HelpDesk.Application.DTOs.CatalogsResultDto'.
2025-11-24 15:34:33.784 -06:00 [INF] Executed action HelpDesk.Api.Controllers.CatalogsController.GetCatalogs (HelpDesk.API) in 32.2468ms
2025-11-24 15:34:33.787 -06:00 [INF] Executed endpoint 'HelpDesk.Api.Controllers.CatalogsController.GetCatalogs (HelpDesk.API)'
2025-11-24 15:34:33.789 -06:00 [INF] HTTP GET /api/Catalogs responded 200 in 59.7262 ms
2025-11-24 15:34:33.793 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/api/Catalogs - 200 null application/json; charset=utf-8 71.719ms
2025-11-24 15:35:36.623 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/api/Roles - null null
2025-11-24 15:35:36.635 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__jti_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActiveSession], [u].[JwtId], [u].[LoginAt], [u].[LoginIpAddress], [u].[LoginUserAgent], [u].[LogoutAt], [u].[LogoutIpAddress], [u].[LogoutReason], [u].[LogoutUserAgent], [u].[RefreshToken], [u].[RefreshTokenExpiresAt], [u].[TokenExpiresAt], [u].[UpdatedAt], [u].[UserId]
FROM [security].[UserSessions] AS [u]
WHERE [u].[JwtId] = @__jti_0
2025-11-24 15:35:36.715 -06:00 [INF] Executed DbCommand (21ms) [Parameters=[@__roleNames_0='?' (Size = 4000), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        INNER JOIN [security].[Roles] AS [r0] ON [r].[RoleId] = [r0].[Id]
        WHERE [r0].[Name] IN (
            SELECT [r1].[value]
            FROM OPENJSON(@__roleNames_0) WITH ([value] nvarchar(256) '$') AS [r1]
        ) AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:35:36.727 -06:00 [INF] Executing endpoint 'HelpDesk.Api.Controllers.RolesController.GetAllRoles (HelpDesk.API)'
2025-11-24 15:35:36.734 -06:00 [INF] Route matched with {action = "GetAllRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller HelpDesk.Api.Controllers.RolesController (HelpDesk.API).
2025-11-24 15:35:36.750 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
2025-11-24 15:35:36.756 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HelpDesk.Infrastructure.Identity.Role, HelpDesk.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 15:35:36.760 -06:00 [INF] Executed action HelpDesk.Api.Controllers.RolesController.GetAllRoles (HelpDesk.API) in 22.266ms
2025-11-24 15:35:36.764 -06:00 [INF] Executed endpoint 'HelpDesk.Api.Controllers.RolesController.GetAllRoles (HelpDesk.API)'
2025-11-24 15:35:36.766 -06:00 [INF] HTTP GET /api/Roles responded 200 in 135.2983 ms
2025-11-24 15:35:36.771 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/api/Roles - 200 null application/json; charset=utf-8 148.3214ms
2025-11-24 15:36:06.940 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/api/Roles/Admin/permissions - null null
2025-11-24 15:36:06.951 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__jti_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActiveSession], [u].[JwtId], [u].[LoginAt], [u].[LoginIpAddress], [u].[LoginUserAgent], [u].[LogoutAt], [u].[LogoutIpAddress], [u].[LogoutReason], [u].[LogoutUserAgent], [u].[RefreshToken], [u].[RefreshTokenExpiresAt], [u].[TokenExpiresAt], [u].[UpdatedAt], [u].[UserId]
FROM [security].[UserSessions] AS [u]
WHERE [u].[JwtId] = @__jti_0
2025-11-24 15:36:06.959 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleNames_0='?' (Size = 4000), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        INNER JOIN [security].[Roles] AS [r0] ON [r].[RoleId] = [r0].[Id]
        WHERE [r0].[Name] IN (
            SELECT [r1].[value]
            FROM OPENJSON(@__roleNames_0) WITH ([value] nvarchar(256) '$') AS [r1]
        ) AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:36:06.966 -06:00 [INF] Executing endpoint 'HelpDesk.Api.Controllers.RolesController.GetPermissions (HelpDesk.API)'
2025-11-24 15:36:06.973 -06:00 [INF] Route matched with {action = "GetPermissions", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPermissions(System.String) on controller HelpDesk.Api.Controllers.RolesController (HelpDesk.API).
2025-11-24 15:36:06.989 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__roleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Permission]
FROM [security].[RolePermissions] AS [r]
INNER JOIN [security].[Roles] AS [r0] ON [r].[RoleId] = [r0].[Id]
WHERE [r0].[Name] = @__roleName_0
2025-11-24 15:36:06.997 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-24 15:36:07.000 -06:00 [INF] Executed action HelpDesk.Api.Controllers.RolesController.GetPermissions (HelpDesk.API) in 23.1273ms
2025-11-24 15:36:07.004 -06:00 [INF] Executed endpoint 'HelpDesk.Api.Controllers.RolesController.GetPermissions (HelpDesk.API)'
2025-11-24 15:36:07.007 -06:00 [INF] HTTP GET /api/Roles/Admin/permissions responded 200 in 58.1313 ms
2025-11-24 15:36:07.011 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/api/Roles/Admin/permissions - 200 null application/json; charset=utf-8 70.6445ms
2025-11-24 15:36:19.611 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/api/Roles/Customer/permissions - null null
2025-11-24 15:36:19.621 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__jti_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActiveSession], [u].[JwtId], [u].[LoginAt], [u].[LoginIpAddress], [u].[LoginUserAgent], [u].[LogoutAt], [u].[LogoutIpAddress], [u].[LogoutReason], [u].[LogoutUserAgent], [u].[RefreshToken], [u].[RefreshTokenExpiresAt], [u].[TokenExpiresAt], [u].[UpdatedAt], [u].[UserId]
FROM [security].[UserSessions] AS [u]
WHERE [u].[JwtId] = @__jti_0
2025-11-24 15:36:19.644 -06:00 [INF] Executed DbCommand (15ms) [Parameters=[@__roleNames_0='?' (Size = 4000), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        INNER JOIN [security].[Roles] AS [r0] ON [r].[RoleId] = [r0].[Id]
        WHERE [r0].[Name] IN (
            SELECT [r1].[value]
            FROM OPENJSON(@__roleNames_0) WITH ([value] nvarchar(256) '$') AS [r1]
        ) AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:36:19.675 -06:00 [INF] Executing endpoint 'HelpDesk.Api.Controllers.RolesController.GetPermissions (HelpDesk.API)'
2025-11-24 15:36:19.692 -06:00 [INF] Route matched with {action = "GetPermissions", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPermissions(System.String) on controller HelpDesk.Api.Controllers.RolesController (HelpDesk.API).
2025-11-24 15:36:19.743 -06:00 [INF] Executed DbCommand (35ms) [Parameters=[@__roleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Permission]
FROM [security].[RolePermissions] AS [r]
INNER JOIN [security].[Roles] AS [r0] ON [r].[RoleId] = [r0].[Id]
WHERE [r0].[Name] = @__roleName_0
2025-11-24 15:36:19.753 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-24 15:36:19.756 -06:00 [INF] Executed action HelpDesk.Api.Controllers.RolesController.GetPermissions (HelpDesk.API) in 57.2369ms
2025-11-24 15:36:19.759 -06:00 [INF] Executed endpoint 'HelpDesk.Api.Controllers.RolesController.GetPermissions (HelpDesk.API)'
2025-11-24 15:36:19.761 -06:00 [INF] HTTP GET /api/Roles/Customer/permissions responded 200 in 145.1989 ms
2025-11-24 15:36:19.767 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/api/Roles/Customer/permissions - 200 null application/json; charset=utf-8 155.5442ms
2025-11-24 15:36:36.952 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/api/Roles/Support/permissions - null null
2025-11-24 15:36:36.960 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__jti_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActiveSession], [u].[JwtId], [u].[LoginAt], [u].[LoginIpAddress], [u].[LoginUserAgent], [u].[LogoutAt], [u].[LogoutIpAddress], [u].[LogoutReason], [u].[LogoutUserAgent], [u].[RefreshToken], [u].[RefreshTokenExpiresAt], [u].[TokenExpiresAt], [u].[UpdatedAt], [u].[UserId]
FROM [security].[UserSessions] AS [u]
WHERE [u].[JwtId] = @__jti_0
2025-11-24 15:36:36.967 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleNames_0='?' (Size = 4000), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        INNER JOIN [security].[Roles] AS [r0] ON [r].[RoleId] = [r0].[Id]
        WHERE [r0].[Name] IN (
            SELECT [r1].[value]
            FROM OPENJSON(@__roleNames_0) WITH ([value] nvarchar(256) '$') AS [r1]
        ) AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:36:36.974 -06:00 [INF] Executing endpoint 'HelpDesk.Api.Controllers.RolesController.GetPermissions (HelpDesk.API)'
2025-11-24 15:36:36.977 -06:00 [INF] Route matched with {action = "GetPermissions", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPermissions(System.String) on controller HelpDesk.Api.Controllers.RolesController (HelpDesk.API).
2025-11-24 15:36:36.984 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Permission]
FROM [security].[RolePermissions] AS [r]
INNER JOIN [security].[Roles] AS [r0] ON [r].[RoleId] = [r0].[Id]
WHERE [r0].[Name] = @__roleName_0
2025-11-24 15:36:36.990 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-24 15:36:36.993 -06:00 [INF] Executed action HelpDesk.Api.Controllers.RolesController.GetPermissions (HelpDesk.API) in 11.3337ms
2025-11-24 15:36:36.995 -06:00 [INF] Executed endpoint 'HelpDesk.Api.Controllers.RolesController.GetPermissions (HelpDesk.API)'
2025-11-24 15:36:36.997 -06:00 [INF] HTTP GET /api/Roles/Support/permissions responded 200 in 40.4667 ms
2025-11-24 15:36:37.001 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/api/Roles/Support/permissions - 200 null application/json; charset=utf-8 48.8624ms
2025-11-24 15:37:24.876 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/api/Tickets?Page=1&PageSize=10 - null null
2025-11-24 15:37:24.900 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__jti_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActiveSession], [u].[JwtId], [u].[LoginAt], [u].[LoginIpAddress], [u].[LoginUserAgent], [u].[LogoutAt], [u].[LogoutIpAddress], [u].[LogoutReason], [u].[LogoutUserAgent], [u].[RefreshToken], [u].[RefreshTokenExpiresAt], [u].[TokenExpiresAt], [u].[UpdatedAt], [u].[UserId]
FROM [security].[UserSessions] AS [u]
WHERE [u].[JwtId] = @__jti_0
2025-11-24 15:37:24.905 -06:00 [INF] Executing endpoint 'HelpDesk.Api.Controllers.TicketsController.GetTickets (HelpDesk.API)'
2025-11-24 15:37:24.913 -06:00 [INF] Route matched with {action = "GetTickets", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTickets(HelpDesk.Application.DTOs.TicketFilterRequest) on controller HelpDesk.Api.Controllers.TicketsController (HelpDesk.API).
2025-11-24 15:37:24.933 -06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__roleNames_0='?' (Size = 4000), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        INNER JOIN [security].[Roles] AS [r0] ON [r].[RoleId] = [r0].[Id]
        WHERE [r0].[Name] IN (
            SELECT [r1].[value]
            FROM OPENJSON(@__roleNames_0) WITH ([value] nvarchar(256) '$') AS [r1]
        ) AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:37:24.961 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [helpdesk].[Tickets] AS [t]
2025-11-24 15:37:24.999 -06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Title], [t].[StatusId], [t].[PriorityId], [t].[CategoryId], [t].[TypeId], [t].[CreatedById], [t].[AssignedToEmployeeId], [t].[TicketCreatedAt]
FROM [helpdesk].[Tickets] AS [t]
ORDER BY [t].[TicketCreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-11-24 15:37:25.005 -06:00 [INF] Executing OkObjectResult, writing value of type 'HelpDesk.Application.DTOs.PagedResult`1[[HelpDesk.Application.DTOs.TicketListItemDto, HelpDesk.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 15:37:25.017 -06:00 [INF] Executed action HelpDesk.Api.Controllers.TicketsController.GetTickets (HelpDesk.API) in 101.3602ms
2025-11-24 15:37:25.020 -06:00 [INF] Executed endpoint 'HelpDesk.Api.Controllers.TicketsController.GetTickets (HelpDesk.API)'
2025-11-24 15:37:25.022 -06:00 [INF] HTTP GET /api/Tickets responded 200 in 127.8838 ms
2025-11-24 15:37:25.024 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/api/Tickets?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 148.3701ms
2025-11-24 15:37:51.246 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/api/Tickets/1 - null null
2025-11-24 15:37:51.257 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__jti_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActiveSession], [u].[JwtId], [u].[LoginAt], [u].[LoginIpAddress], [u].[LoginUserAgent], [u].[LogoutAt], [u].[LogoutIpAddress], [u].[LogoutReason], [u].[LogoutUserAgent], [u].[RefreshToken], [u].[RefreshTokenExpiresAt], [u].[TokenExpiresAt], [u].[UpdatedAt], [u].[UserId]
FROM [security].[UserSessions] AS [u]
WHERE [u].[JwtId] = @__jti_0
2025-11-24 15:37:51.262 -06:00 [INF] Executing endpoint 'HelpDesk.Api.Controllers.TicketsController.GetById (HelpDesk.API)'
2025-11-24 15:37:51.268 -06:00 [INF] Route matched with {action = "GetById", controller = "Tickets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller HelpDesk.Api.Controllers.TicketsController (HelpDesk.API).
2025-11-24 15:37:51.318 -06:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-24 15:37:51.341 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[AssignedToEmployeeId], [t2].[CategoryId], [t2].[CreatedAt], [t2].[CreatedById], [t2].[Description], [t2].[PriorityId], [t2].[StatusId], [t2].[TicketCreatedAt], [t2].[Title], [t2].[TypeId], [t2].[UpdatedAt], [t0].[Id], [t0].[Comment], [t0].[CreatedAt], [t0].[CreatedAtLocal], [t0].[TicketId], [t0].[UpdatedAt], [t0].[UserId], [t1].[Id], [t1].[CreatedAt], [t1].[OccurredAt], [t1].[StatusId], [t1].[TicketId], [t1].[UpdatedAt]
FROM (
    SELECT TOP(1) [t].[Id], [t].[AssignedToEmployeeId], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedById], [t].[Description], [t].[PriorityId], [t].[StatusId], [t].[TicketCreatedAt], [t].[Title], [t].[TypeId], [t].[UpdatedAt]
    FROM [helpdesk].[Tickets] AS [t]
    WHERE [t].[Id] = @__id_0
) AS [t2]
LEFT JOIN [helpdesk].[TicketComments] AS [t0] ON [t2].[Id] = [t0].[TicketId]
LEFT JOIN [helpdesk].[TicketStatusHistory] AS [t1] ON [t2].[Id] = [t1].[TicketId]
ORDER BY [t2].[Id], [t0].[Id]
2025-11-24 15:37:51.349 -06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-11-24 15:37:51.363 -06:00 [INF] Executed action HelpDesk.Api.Controllers.TicketsController.GetById (HelpDesk.API) in 91.2656ms
2025-11-24 15:37:51.367 -06:00 [INF] Executed endpoint 'HelpDesk.Api.Controllers.TicketsController.GetById (HelpDesk.API)'
2025-11-24 15:37:51.370 -06:00 [INF] HTTP GET /api/Tickets/1 responded 404 in 116.0517 ms
2025-11-24 15:37:51.375 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/api/Tickets/1 - 404 null application/problem+json; charset=utf-8 128.8353ms
2025-11-24 15:38:20.088 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/api/audit?Page=1&PageSize=10 - null null
2025-11-24 15:38:20.101 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__jti_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActiveSession], [u].[JwtId], [u].[LoginAt], [u].[LoginIpAddress], [u].[LoginUserAgent], [u].[LogoutAt], [u].[LogoutIpAddress], [u].[LogoutReason], [u].[LogoutUserAgent], [u].[RefreshToken], [u].[RefreshTokenExpiresAt], [u].[TokenExpiresAt], [u].[UpdatedAt], [u].[UserId]
FROM [security].[UserSessions] AS [u]
WHERE [u].[JwtId] = @__jti_0
2025-11-24 15:38:20.108 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleNames_0='?' (Size = 4000), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        INNER JOIN [security].[Roles] AS [r0] ON [r].[RoleId] = [r0].[Id]
        WHERE [r0].[Name] IN (
            SELECT [r1].[value]
            FROM OPENJSON(@__roleNames_0) WITH ([value] nvarchar(256) '$') AS [r1]
        ) AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:38:20.115 -06:00 [INF] Executing endpoint 'HelpDesk.Api.Controllers.AuditController.GetLogs (HelpDesk.API)'
2025-11-24 15:38:20.122 -06:00 [INF] Route matched with {action = "GetLogs", controller = "Audit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogs(HelpDesk.Application.DTOs.AuditLogFilterRequest) on controller HelpDesk.Api.Controllers.AuditController (HelpDesk.API).
2025-11-24 15:38:20.149 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [helpdesk].[TicketAuditLogs] AS [t]
2025-11-24 15:38:20.166 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TicketId], [t].[UserId], [t].[Action], [t].[Detail], [t].[IpAddress], [t].[UserAgent], [t].[CreatedAt]
FROM [helpdesk].[TicketAuditLogs] AS [t]
ORDER BY [t].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-11-24 15:38:20.172 -06:00 [INF] Executing OkObjectResult, writing value of type 'HelpDesk.Application.DTOs.PagedResult`1[[HelpDesk.Application.DTOs.AuditLogDto, HelpDesk.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 15:38:20.179 -06:00 [INF] Executed action HelpDesk.Api.Controllers.AuditController.GetLogs (HelpDesk.API) in 48.7435ms
2025-11-24 15:38:20.183 -06:00 [INF] Executed endpoint 'HelpDesk.Api.Controllers.AuditController.GetLogs (HelpDesk.API)'
2025-11-24 15:38:20.188 -06:00 [INF] HTTP GET /api/audit responded 200 in 90.2156 ms
2025-11-24 15:38:20.193 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/api/audit?Page=1&PageSize=10 - 200 null application/json; charset=utf-8 104.9596ms
2025-11-24 15:48:44.435 -06:00 [INF] Application is shutting down...
2025-11-24 15:51:32.772 -06:00 [INF] Starting HelpDesk API
2025-11-24 15:51:33.367 -06:00 [INF] User profile is available. Using 'C:\Users\marvin.gonzalez\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-24 15:51:34.635 -06:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 15:51:34.656 -06:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-24 15:51:34.695 -06:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-24 15:51:34.796 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-24 15:51:34.821 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 15:51:34.826 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-24 15:51:34.839 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-24 15:51:34.856 -06:00 [INF] No migrations were applied. The database is already up to date.
2025-11-24 15:51:34.862 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-24 15:51:35.270 -06:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-11-24 15:51:35.324 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-11-24 15:51:35.332 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-11-24 15:51:35.353 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[Name] = N'Admin'
2025-11-24 15:51:35.374 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[Name] = N'Support'
2025-11-24 15:51:35.411 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:51:35.420 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:51:35.430 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:51:35.438 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:51:35.446 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:51:35.452 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:51:35.459 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:51:35.471 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals2_supportRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals2_supportRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:51:35.476 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals2_supportRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals2_supportRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:51:35.480 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals2_supportRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals2_supportRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:51:35.488 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals2_supportRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals2_supportRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:51:35.522 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-24 15:51:35.575 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-11-24 15:51:35.628 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [security].[UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-11-24 15:51:35.648 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [helpdesk].[CatalogItems] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:51:35.662 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [catalog].[Catalogs] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:51:35.670 -06:00 [INF] HelpDesk API started successfully
2025-11-24 15:51:35.755 -06:00 [INF] Now listening on: http://localhost:5022
2025-11-24 15:51:35.758 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-24 15:51:35.760 -06:00 [INF] Hosting environment: Development
2025-11-24 15:51:35.761 -06:00 [INF] Content root path: D:\REPOSITORY\HelpDesk\HelpDesk.API
2025-11-24 15:51:41.610 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/swagger/v1/swagger.json - null null
2025-11-24 15:51:41.823 -06:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 176.6474 ms
2025-11-24 15:51:41.833 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 226.7596ms
2025-11-24 15:53:08.264 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/api/Users - null null
2025-11-24 15:53:08.280 -06:00 [WRN] Failed to determine the https port for redirect.
2025-11-24 15:53:08.310 -06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-24 15:53:08.317 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-24 15:53:08.320 -06:00 [INF] HTTP GET /api/Users responded 401 in 46.0856 ms
2025-11-24 15:53:08.325 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/api/Users - 401 0 null 61.5969ms
2025-11-24 15:53:16.212 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/api/Users - null null
2025-11-24 15:53:16.326 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__jti_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActiveSession], [u].[JwtId], [u].[LoginAt], [u].[LoginIpAddress], [u].[LoginUserAgent], [u].[LogoutAt], [u].[LogoutIpAddress], [u].[LogoutReason], [u].[LogoutUserAgent], [u].[RefreshToken], [u].[RefreshTokenExpiresAt], [u].[TokenExpiresAt], [u].[UpdatedAt], [u].[UserId]
FROM [security].[UserSessions] AS [u]
WHERE [u].[JwtId] = @__jti_0
2025-11-24 15:53:16.375 -06:00 [INF] Executing endpoint 'HelpDesk.Api.Controllers.UsersController.GetUsers (HelpDesk.API)'
2025-11-24 15:53:16.390 -06:00 [INF] Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller HelpDesk.Api.Controllers.UsersController (HelpDesk.API).
2025-11-24 15:53:16.399 -06:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 15:53:16.423 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName]
FROM [security].[Users] AS [u]
2025-11-24 15:53:16.466 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [security].[UserRoles] AS [u]
INNER JOIN [security].[Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-11-24 15:53:16.474 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [security].[UserRoles] AS [u]
INNER JOIN [security].[Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-11-24 15:53:16.488 -06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HelpDesk.Application.DTOs.UserDto, HelpDesk.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 15:53:16.530 -06:00 [INF] Executed action HelpDesk.Api.Controllers.UsersController.GetUsers (HelpDesk.API) in 132.153ms
2025-11-24 15:53:16.533 -06:00 [INF] Executed endpoint 'HelpDesk.Api.Controllers.UsersController.GetUsers (HelpDesk.API)'
2025-11-24 15:53:16.536 -06:00 [INF] HTTP GET /api/Users responded 200 in 317.7723 ms
2025-11-24 15:53:16.544 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/api/Users - 200 null application/json; charset=utf-8 331.9639ms
2025-11-24 15:54:03.783 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5022/api/auth/register - application/json 89
2025-11-24 15:54:03.792 -06:00 [INF] CORS policy execution successful.
2025-11-24 15:54:03.855 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__jti_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[IsActiveSession], [u].[JwtId], [u].[LoginAt], [u].[LoginIpAddress], [u].[LoginUserAgent], [u].[LogoutAt], [u].[LogoutIpAddress], [u].[LogoutReason], [u].[LogoutUserAgent], [u].[RefreshToken], [u].[RefreshTokenExpiresAt], [u].[TokenExpiresAt], [u].[UpdatedAt], [u].[UserId]
FROM [security].[UserSessions] AS [u]
WHERE [u].[JwtId] = @__jti_0
2025-11-24 15:54:03.860 -06:00 [INF] Executing endpoint 'HelpDesk.Api.Controllers.AuthController.Register (HelpDesk.API)'
2025-11-24 15:54:03.872 -06:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterRequest) on controller HelpDesk.Api.Controllers.AuthController (HelpDesk.API).
2025-11-24 15:54:04.017 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 15:54:04.030 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-24 15:54:04.149 -06:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 200), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [security].[Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FullName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-11-24 15:54:04.178 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-11-24 15:54:04.185 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [security].[UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-11-24 15:54:04.193 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-11-24 15:54:04.202 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 15:54:04.208 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-24 15:54:04.240 -06:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p17='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p18='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 200), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [security].[UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [security].[Users] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FullName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2025-11-24 15:54:08.464 -06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-24 15:54:08.474 -06:00 [INF] Executed action HelpDesk.Api.Controllers.AuthController.Register (HelpDesk.API) in 4597.0647ms
2025-11-24 15:54:08.479 -06:00 [INF] Executed endpoint 'HelpDesk.Api.Controllers.AuthController.Register (HelpDesk.API)'
2025-11-24 15:54:08.483 -06:00 [INF] HTTP POST /api/auth/register responded 200 in 4693.3234 ms
2025-11-24 15:54:08.495 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5022/api/auth/register - 200 null application/json; charset=utf-8 4712.218ms
2025-11-24 16:02:57.025 -06:00 [INF] Application is shutting down...
2025-11-24 16:18:47.277 -06:00 [INF] Starting HelpDesk API
2025-11-24 16:18:47.808 -06:00 [INF] User profile is available. Using 'C:\Users\marvin.gonzalez\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-24 16:18:49.001 -06:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 16:18:49.031 -06:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-24 16:18:49.069 -06:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-24 16:18:49.182 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-24 16:18:49.216 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 16:18:49.222 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-24 16:18:49.232 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-24 16:18:49.249 -06:00 [INF] No migrations were applied. The database is already up to date.
2025-11-24 16:18:49.257 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-24 16:18:49.643 -06:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-11-24 16:18:49.660 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-11-24 16:18:49.822 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 256), @p2='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [security].[Roles] ([ConcurrencyStamp], [Name], [NormalizedName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-11-24 16:18:49.863 -06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-11-24 16:18:49.868 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-11-24 16:18:49.876 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 256), @p2='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [security].[Roles] ([ConcurrencyStamp], [Name], [NormalizedName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-11-24 16:18:49.882 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-11-24 16:18:49.886 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-11-24 16:18:49.893 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 256), @p2='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [security].[Roles] ([ConcurrencyStamp], [Name], [NormalizedName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-11-24 16:18:49.913 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[Name] = N'Admin'
2025-11-24 16:18:49.927 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[Name] = N'Support'
2025-11-24 16:18:49.965 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 16:18:49.985 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 16:18:49.991 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 16:18:49.998 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 16:18:50.004 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 16:18:50.010 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 16:18:50.016 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals1_adminRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals1_adminRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 16:18:50.031 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals2_supportRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals2_supportRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 16:18:50.038 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals2_supportRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals2_supportRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 16:18:50.046 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_supportRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals2_supportRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 16:18:50.054 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_supportRole_Id_0='?' (DbType = Int32), @__permission_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [security].[RolePermissions] AS [r]
        WHERE [r].[RoleId] = @__8__locals2_supportRole_Id_0 AND [r].[Permission] = @__permission_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 16:18:50.092 -06:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (DbType = Int32), @p10='?' (Size = 100), @p11='?' (DbType = Int32), @p12='?' (Size = 100), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (DbType = Int32), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Size = 100), @p19='?' (DbType = Int32), @p20='?' (Size = 100), @p21='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [security].[RolePermissions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3),
(@p8, @p9, 4),
(@p10, @p11, 5),
(@p12, @p13, 6),
(@p14, @p15, 7),
(@p16, @p17, 8),
(@p18, @p19, 9),
(@p20, @p21, 10)) AS i ([Permission], [RoleId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Permission], [RoleId])
VALUES (i.[Permission], i.[RoleId])
OUTPUT INSERTED.[Id], i._Position;
2025-11-24 16:18:50.119 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-24 16:18:50.244 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 16:18:50.256 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-24 16:18:50.323 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 200), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [security].[Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FullName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-11-24 16:18:50.339 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-11-24 16:18:50.376 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [security].[UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-11-24 16:18:50.382 -06:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-11-24 16:18:50.390 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [security].[UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-11-24 16:18:50.398 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-11-24 16:18:50.419 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 16:18:50.429 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-24 16:18:50.453 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p17='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p18='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 200), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [security].[UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [security].[Users] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FullName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2025-11-24 16:18:50.466 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [catalog].[Catalogs] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 16:18:50.536 -06:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 500), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (Size = 200), @p7='?' (DbType = DateTime2), @p8='?' (Size = 500), @p9='?' (DbType = Int32), @p10='?' (Size = 100), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (Size = 200), @p14='?' (DbType = DateTime2), @p15='?' (Size = 500), @p16='?' (DbType = Int32), @p17='?' (Size = 100), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (Size = 200), @p21='?' (DbType = DateTime2), @p22='?' (Size = 500), @p23='?' (DbType = Int32), @p24='?' (Size = 100), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTime2), @p27='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [catalog].[Catalogs] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3)) AS i ([CreatedAt], [Description], [DisplayOrder], [Name], [ParentId], [UpdatedAt], [Value], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedAt], [Description], [DisplayOrder], [Name], [ParentId], [UpdatedAt], [Value])
VALUES (i.[CreatedAt], i.[Description], i.[DisplayOrder], i.[Name], i.[ParentId], i.[UpdatedAt], i.[Value])
OUTPUT INSERTED.[Id], INSERTED.[IsActive], i._Position;
2025-11-24 16:18:50.610 -06:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 500), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (Size = 200), @p7='?' (DbType = DateTime2), @p8='?' (Size = 500), @p9='?' (DbType = Int32), @p10='?' (Size = 100), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (Size = 200), @p14='?' (DbType = DateTime2), @p15='?' (Size = 500), @p16='?' (DbType = Int32), @p17='?' (Size = 100), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (Size = 200), @p21='?' (DbType = DateTime2), @p22='?' (Size = 500), @p23='?' (DbType = Int32), @p24='?' (Size = 100), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTime2), @p27='?' (Size = 200), @p28='?' (DbType = DateTime2), @p29='?' (Size = 500), @p30='?' (DbType = Int32), @p31='?' (Size = 100), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime2), @p34='?' (Size = 200), @p35='?' (DbType = DateTime2), @p36='?' (Size = 500), @p37='?' (DbType = Int32), @p38='?' (Size = 100), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTime2), @p41='?' (Size = 200), @p42='?' (DbType = DateTime2), @p43='?' (Size = 500), @p44='?' (DbType = Int32), @p45='?' (Size = 100), @p46='?' (DbType = Int32), @p47='?' (DbType = DateTime2), @p48='?' (Size = 200), @p49='?' (DbType = DateTime2), @p50='?' (Size = 500), @p51='?' (DbType = Int32), @p52='?' (Size = 100), @p53='?' (DbType = Int32), @p54='?' (DbType = DateTime2), @p55='?' (Size = 200), @p56='?' (DbType = DateTime2), @p57='?' (Size = 500), @p58='?' (DbType = Int32), @p59='?' (Size = 100), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (Size = 200), @p63='?' (DbType = DateTime2), @p64='?' (Size = 500), @p65='?' (DbType = Int32), @p66='?' (Size = 100), @p67='?' (DbType = Int32), @p68='?' (DbType = DateTime2), @p69='?' (Size = 200), @p70='?' (DbType = DateTime2), @p71='?' (Size = 500), @p72='?' (DbType = Int32), @p73='?' (Size = 100), @p74='?' (DbType = Int32), @p75='?' (DbType = DateTime2), @p76='?' (Size = 200), @p77='?' (DbType = DateTime2), @p78='?' (Size = 500), @p79='?' (DbType = Int32), @p80='?' (Size = 100), @p81='?' (DbType = Int32), @p82='?' (DbType = DateTime2), @p83='?' (Size = 200), @p84='?' (DbType = DateTime2), @p85='?' (Size = 500), @p86='?' (DbType = Int32), @p87='?' (Size = 100), @p88='?' (DbType = Int32), @p89='?' (DbType = DateTime2), @p90='?' (Size = 200), @p91='?' (DbType = DateTime2), @p92='?' (Size = 500), @p93='?' (DbType = Int32), @p94='?' (Size = 100), @p95='?' (DbType = Int32), @p96='?' (DbType = DateTime2), @p97='?' (Size = 200), @p98='?' (DbType = DateTime2), @p99='?' (Size = 500), @p100='?' (DbType = Int32), @p101='?' (Size = 100), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (Size = 200), @p105='?' (DbType = DateTime2), @p106='?' (Size = 500), @p107='?' (DbType = Int32), @p108='?' (Size = 100), @p109='?' (DbType = Int32), @p110='?' (DbType = DateTime2), @p111='?' (Size = 200), @p112='?' (DbType = DateTime2), @p113='?' (Size = 500), @p114='?' (DbType = Int32), @p115='?' (Size = 100), @p116='?' (DbType = Int32), @p117='?' (DbType = DateTime2), @p118='?' (Size = 200), @p119='?' (DbType = DateTime2), @p120='?' (Size = 500), @p121='?' (DbType = Int32), @p122='?' (Size = 100), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [catalog].[Catalogs] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6),
(@p49, @p50, @p51, @p52, @p53, @p54, @p55, 7),
(@p56, @p57, @p58, @p59, @p60, @p61, @p62, 8),
(@p63, @p64, @p65, @p66, @p67, @p68, @p69, 9),
(@p70, @p71, @p72, @p73, @p74, @p75, @p76, 10),
(@p77, @p78, @p79, @p80, @p81, @p82, @p83, 11),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, 12),
(@p91, @p92, @p93, @p94, @p95, @p96, @p97, 13),
(@p98, @p99, @p100, @p101, @p102, @p103, @p104, 14),
(@p105, @p106, @p107, @p108, @p109, @p110, @p111, 15),
(@p112, @p113, @p114, @p115, @p116, @p117, @p118, 16),
(@p119, @p120, @p121, @p122, @p123, @p124, @p125, 17)) AS i ([CreatedAt], [Description], [DisplayOrder], [Name], [ParentId], [UpdatedAt], [Value], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedAt], [Description], [DisplayOrder], [Name], [ParentId], [UpdatedAt], [Value])
VALUES (i.[CreatedAt], i.[Description], i.[DisplayOrder], i.[Name], i.[ParentId], i.[UpdatedAt], i.[Value])
OUTPUT INSERTED.[Id], INSERTED.[IsActive], i._Position;
2025-11-24 16:18:50.628 -06:00 [INF] HelpDesk API started successfully
2025-11-24 16:18:50.704 -06:00 [INF] Now listening on: http://localhost:5022
2025-11-24 16:18:50.709 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-24 16:18:50.711 -06:00 [INF] Hosting environment: Development
2025-11-24 16:18:50.713 -06:00 [INF] Content root path: D:\REPOSITORY\HelpDesk\HelpDesk.API
2025-11-24 16:18:55.565 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/swagger/v1/swagger.json - null null
2025-11-24 16:18:55.806 -06:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 190.1493 ms
2025-11-24 16:18:55.819 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 256.8477ms
2025-11-24 16:19:34.569 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/index.html - null null
2025-11-24 16:19:34.646 -06:00 [INF] HTTP GET /index.html responded 200 in 71.1003 ms
2025-11-24 16:19:34.652 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/index.html - 200 null text/html;charset=utf-8 81.8177ms
2025-11-24 16:19:34.837 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5022/swagger/v1/swagger.json - null null
2025-11-24 16:19:34.881 -06:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 24.1623 ms
2025-11-24 16:19:34.888 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5022/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.6429ms
2025-11-24 16:21:11.725 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5022/api/auth/register - application/json 105
2025-11-24 16:21:11.738 -06:00 [INF] CORS policy execution successful.
2025-11-24 16:21:11.748 -06:00 [WRN] Failed to determine the https port for redirect.
2025-11-24 16:21:11.777 -06:00 [INF] Executing endpoint 'HelpDesk.Api.Controllers.AuthController.Register (HelpDesk.API)'
2025-11-24 16:21:11.793 -06:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterRequest) on controller HelpDesk.Api.Controllers.AuthController (HelpDesk.API).
2025-11-24 16:21:12.032 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 16:21:12.055 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-24 16:21:12.095 -06:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 200), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [security].[Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FullName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-11-24 16:21:12.126 -06:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-11-24 16:21:12.157 -06:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [security].[UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-11-24 16:21:12.167 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [security].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-11-24 16:21:12.175 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 16:21:12.181 -06:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [security].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-11-24 16:21:12.407 -06:00 [INF] Executed DbCommand (219ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p17='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p18='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 200), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [security].[UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [security].[Users] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FullName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2025-11-24 16:21:15.777 -06:00 [INF] Executed action HelpDesk.Api.Controllers.AuthController.Register (HelpDesk.API) in 3977.1877ms
2025-11-24 16:21:15.781 -06:00 [INF] Executed endpoint 'HelpDesk.Api.Controllers.AuthController.Register (HelpDesk.API)'
2025-11-24 16:21:15.785 -06:00 [ERR] HTTP POST /api/auth/register responded 500 in 4048.3466 ms
System.Net.Mail.SmtpException: Mailbox unavailable. The server response was: The from.email domain must be verified in your account to send emails. #MS42207 The from.email domain must be verified in your account to send emails. #MS42207
   at System.Net.Mail.DataStopCommand.CheckResponse(SmtpStatusCode statusCode, String serverResponse)
   at System.Net.Mail.DataStopCommand.Send(SmtpConnection conn)
   at System.Net.Mail.MailWriter.Close()
   at System.Net.Mail.SmtpClient.Complete(Exception exception, Object result)
--- End of stack trace from previous location ---
   at HelpDesk.Infrastructure.Services.Email.SmtpEmailSender.SendAsync(String toEmail, String subject, String htmlBody) in D:\REPOSITORY\HelpDesk\HelpDesk.Infrastructure\Services\Email\SmtpEmailSender.cs:line 37
   at HelpDesk.Infrastructure.Services.Email.SmtpEmailSender.SendEmailConfirmationAsync(String toEmail, String fullName, String confirmationLink) in D:\REPOSITORY\HelpDesk\HelpDesk.Infrastructure\Services\Email\SmtpEmailSender.cs:line 48
   at HelpDesk.Infrastructure.Auth.AuthService.RegisterAsync(String email, String fullName, String password) in D:\REPOSITORY\HelpDesk\HelpDesk.Infrastructure\Auth\AuthService.cs:line 69
   at HelpDesk.Api.Controllers.AuthController.Register(RegisterRequest model) in D:\REPOSITORY\HelpDesk\HelpDesk.API\Controllers\AuthController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HelpDesk.API.Middleware.LogEnrichmentMiddleware.InvokeAsync(HttpContext context) in D:\REPOSITORY\HelpDesk\HelpDesk.API\Middleware\LogEnrichmentMiddleware.cs:line 33
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-11-24 16:21:15.840 -06:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Mailbox unavailable. The server response was: The from.email domain must be verified in your account to send emails. #MS42207 The from.email domain must be verified in your account to send emails. #MS42207
   at System.Net.Mail.DataStopCommand.CheckResponse(SmtpStatusCode statusCode, String serverResponse)
   at System.Net.Mail.DataStopCommand.Send(SmtpConnection conn)
   at System.Net.Mail.MailWriter.Close()
   at System.Net.Mail.SmtpClient.Complete(Exception exception, Object result)
--- End of stack trace from previous location ---
   at HelpDesk.Infrastructure.Services.Email.SmtpEmailSender.SendAsync(String toEmail, String subject, String htmlBody) in D:\REPOSITORY\HelpDesk\HelpDesk.Infrastructure\Services\Email\SmtpEmailSender.cs:line 37
   at HelpDesk.Infrastructure.Services.Email.SmtpEmailSender.SendEmailConfirmationAsync(String toEmail, String fullName, String confirmationLink) in D:\REPOSITORY\HelpDesk\HelpDesk.Infrastructure\Services\Email\SmtpEmailSender.cs:line 48
   at HelpDesk.Infrastructure.Auth.AuthService.RegisterAsync(String email, String fullName, String password) in D:\REPOSITORY\HelpDesk\HelpDesk.Infrastructure\Auth\AuthService.cs:line 69
   at HelpDesk.Api.Controllers.AuthController.Register(RegisterRequest model) in D:\REPOSITORY\HelpDesk\HelpDesk.API\Controllers\AuthController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at HelpDesk.API.Middleware.LogEnrichmentMiddleware.InvokeAsync(HttpContext context) in D:\REPOSITORY\HelpDesk\HelpDesk.API\Middleware\LogEnrichmentMiddleware.cs:line 33
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-24 16:21:15.876 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5022/api/auth/register - 500 null text/plain; charset=utf-8 4150.0864ms
